(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{209:function(e,t,a){e.exports=a(321)},214:function(e,t,a){},218:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),l=(a(214),a(10)),i=a(54),o=a(183),u=a(72),m=a(73),d=a(87),E=a(88),p=(a(218),a(219),a(3)),g=a(7),h=a(327),v=a(322),f=a(325),S=a(328),y=a(324),b=a(148),N=a(5),T=a.n(N),_=a(29),C=a(23),A=a.n(C);A.a.interceptors.request.use((function(e){var t=localStorage.getItem("token"),a=e;return t&&(a.headers.common.Authorization="Token ".concat(t)),a}),(function(e){return Promise.reject(e)}));var R=function(e){return{type:"SET_ARTICLES",payload:{data:e}}},O=function(e,t){return{type:"SET_FILTERED_ARTICLES",payload:{data:e,tag:t}}},k=function(e){return{type:"ADD_ERROR_MESSAGE",payload:{err:e}}},U=function(e){return{type:"SET_AUTH",payload:{auth:e}}},w=function(){return{type:"SET_POSTCHANGE_STATUS_TO_NONE"}},L=function(e){return{type:"ADD_USERDATA",payload:{user:e}}},I=function(e){return function(){var t=Object(_.a)(T.a.mark((function t(a){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FAVORITE_REQUESTED"}),t.prev=1,t.next=4,A.a.post("https://conduit.productionready.io/api/articles/".concat(e,"/favorite"));case 4:n=t.sent,a({type:"SET_FAVORITED",payload:{article:n.data.article}}),a({type:"FAVORITE_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"FAVORITE_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(_.a)(T.a.mark((function t(a){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FAVORITE_REQUESTED"}),t.prev=1,t.next=4,A.a.delete("https://conduit.productionready.io/api/articles/".concat(e,"/favorite"));case 4:n=t.sent,a({type:"DELETE_FAVORITED",payload:{article:n.data.article}}),a({type:"FAVORITE_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"FAVORITE_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},D=Object(l.b)((function(e){return{favoriteRequestsStatus:e.favoriteRequestsStatus}}))((function(e){return"requested"===e.favoriteRequestsStatus&&r.a.createElement(S.a,{style:{color:"red"},className:"animated"})})),F={setSlug:function(e){return{type:"SET_SLUG",payload:{slug:e}}},getArticles:function(){return function(){var e=Object(_.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_SEND"}),e.prev=1,e.next=4,A.a.get("https://conduit.productionready.io/api/articles?limit=10");case 4:a=e.sent,t(R(a.data)),t({type:"REQUEST_SUCCESS"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"REQUEST_FAILURE"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},getPageArticles:function(e){return function(){var t=Object(_.a)(T.a.mark((function t(a){var n,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"REQUEST_SEND"}),t.prev=1,n=10*(e-1),t.next=5,A.a.get("https://conduit.productionready.io/api/articles?limit=10&offset=".concat(n));case 5:r=t.sent,a(R(r.data)),a({type:"REQUEST_SUCCESS"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"REQUEST_FAILURE"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},deleteArticle:function(){return{type:"DELETE_ARTICLE"}},fatchFavorite:I,unFavorite:P,filterByTag:function(e){return function(){var t=Object(_.a)(T.a.mark((function t(a){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"REQUEST_SEND"}),t.prev=1,t.next=4,A.a.get("https://conduit.productionready.io/api/articles?limit=10&tag=".concat(e));case 4:n=t.sent,a(O(n.data,e)),a({type:"REQUEST_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"REQUEST_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},resetFilter:function(){return{type:"RESET_FILTER"}}},j=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleLike=function(e){var t=e.target.closest(".card__content").getAttribute("data");n.setState({slug:t})},n.handleOfGettingArticles=function(){var e=n.props,t=e.getArticles,a=e.deleteArticle,r=e.resetFilter;a(),t(),r()},n.componentDidMount=function(){n.handleOfGettingArticles()},n.state={slug:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.slug,a=this.props,n=a.articles,c=a.getPageArticles,s=a.setSlug,l=a.requestStatus,i=a.fatchFavorite,o=a.unFavorite,u=a.filterByTag,m=a.filteredBy;return r.a.createElement("main",{className:"container padding-top margin-bottom"},r.a.createElement("div",{className:"nav-links margin-bottom"},r.a.createElement(p.b,{onClick:this.handleOfGettingArticles,className:"nav-link",to:"/"},"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"," >"),"none"!==m&&r.a.createElement("span",{className:"nav-link"}," ".concat(m))),"none"!==m&&r.a.createElement("div",{className:"margin-bottom"},"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u0441 \u043c\u0435\u0442\u043a\u043e\u0439"," ",r.a.createElement(h.a,{color:"orangered"},m)),"success"===l&&n.articles.map((function(a){return r.a.createElement("div",{key:Object(b.uniqueId)(),className:"post-card"},r.a.createElement("img",{className:"avatar",alt:"AVATAR",src:a.author.image}),r.a.createElement("div",{className:"card__content",data:a.slug},r.a.createElement(p.b,{onClick:function(){return s(a.slug)},to:"/articles/".concat(a.slug),className:"title"},a.title),r.a.createElement("div",{className:"meta"},r.a.createElement("span",{className:"date"},Object(y.a)(new Date(a.createdAt),Date.now(),{addSuffix:!0})),r.a.createElement("span",{className:"author"},a.author.username)),r.a.createElement("p",null,a.body),r.a.createElement("div",{className:"links"},a.tagList.length?a.tagList.map((function(e){return r.a.createElement(h.a,{key:Object(b.uniqueId)(),color:"orangered",onClick:function(){return u(e)}},e)})):null,r.a.createElement("span",{className:"favorites-count"},a.favoritesCount),a.favorited?r.a.createElement("span",{className:"heart-container",onClick:e.handleLike},r.a.createElement(S.a,{style:{color:"red"},onClick:function(){return o(a.slug)}}),a.slug===t&&r.a.createElement(D,null)):r.a.createElement("span",{className:"heart-container",onClick:e.handleLike},r.a.createElement(S.a,{onClick:function(){return i(a.slug)}}),a.slug===t&&r.a.createElement(D,null)))))})),"requested"===l&&r.a.createElement("div",{className:"max-width margin-bottom"},r.a.createElement(v.a,{className:"center"})),"failure"===l&&r.a.createElement("div",{className:"max-width margin-bottom"},r.a.createElement("p",null,"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e\u0437\u0436\u0435")),r.a.createElement("div",{className:"max-width"},r.a.createElement(f.a,{onChange:c,defaultCurrent:"1",total:n.totalCount})))}}]),a}(r.a.Component);j.defaultProps={articles:{}};var x=Object(l.b)((function(e){return{articles:e.articles,requestStatus:e.requestStatus,filteredBy:e.filteredBy}}),F)(j),q=a(326),Q=a(154),B=a(329),G=a(330),V=a(22),H=a(13),M={authenticate:function(e,t){return function(){var a=Object(_.a)(T.a.mark((function a(n){var r;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"REQUEST_SEND"}),a.prev=1,a.next=4,A.a.post(t,{user:e});case 4:return r=a.sent,n(L(r.data.user)),localStorage.setItem("user",r.data.user.username),localStorage.setItem("token",r.data.user.token),n({type:"REQUEST_SUCCESS"}),a.next=11,n(U(!1));case 11:a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),n({type:"REQUEST_FAILURE"}),n(k(a.t0.response.data.errors));case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}()}},z=function(e){var t=H.a().shape({email:H.b().email("\u0423\u043a\u043e\u0436\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:H.b().required("\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c").min(8,"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(/(?=.*[0-9])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443").matches(/(?=.*[a-z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0431\u0443\u043a\u0432\u0443 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430")}),a=Object(V.e)({initialValues:{email:"",password:""},validationSchema:t,onSubmit:function(t){(0,e.authenticate)(t,"https://conduit.productionready.io/api/users/login")}}),n=a.errors,c=a.values,s=a.touched,l=a.handleBlur,i=a.handleChange,o=a.handleSubmit,u=e.errorMsg,m=e.requestStatus;return r.a.createElement("div",{className:"container padding-top"},r.a.createElement("div",{className:"nav-links margin-bottom"},r.a.createElement(p.b,{className:"nav-link",to:"/"},"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"," >"),r.a.createElement(p.b,{className:"nav-link",to:"/login"}," ","\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("form",{name:"normal_login",onSubmit:o},r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a,{name:"email",placeholder:"E-mail",prefix:r.a.createElement(B.a,{className:"site-form-item-icon"}),value:c.email,onChange:i,onBlur:l}),n.email&&s.email&&r.a.createElement("div",{className:"red"},n.email)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a.Password,{name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",prefix:r.a.createElement(G.a,{className:"site-form-item-icon"}),value:c.password,onChange:i,onBlur:l}),n.password&&s.password&&r.a.createElement("div",{className:"red"},n.password)),u&&r.a.createElement("div",{className:"red"},u.emailOrPassword),r.a.createElement(Q.a,{disabled:"requested"===m,htmlType:"submit",className:"margin-right",type:"primary"},"\u0412\u043e\u0439\u0442\u0438"),"requested"===m&&r.a.createElement(v.a,{className:"left-margin margin-right"}),r.a.createElement(p.b,{to:"/signup"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))};z.defaultProps={errorMsg:null,emailOrPassword:""};var W=Object(l.b)((function(e){return{errorMsg:e.errorMsg,requestStatus:e.requestStatus}}),M)(z),X={addUser:function(e,t){return function(){var a=Object(_.a)(T.a.mark((function a(n){var r;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"REQUEST_SEND"}),a.prev=1,a.next=4,A.a.post(t,{user:e});case 4:r=a.sent,n(L(r.data)),localStorage.setItem("user",r.data.user.username),n({type:"REQUEST_SUCCESS"}),n(U()),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),n(k(a.t0.response.data.errors)),n({type:"REQUEST_FAILURE"});case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}},J=Object(l.b)((function(e){return{errorMsg:e.errorMsg,requestStatus:e.requestStatus}}),X)((function(e){var t=e.errorMsg,a=e.requestStatus,n=e.addUser,c=H.a().shape({email:H.b().email("\u0423\u043a\u043e\u0436\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:H.b().required("\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c").min(8,"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(/(?=.*[0-9])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443").matches(/(?=.*[a-z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0431\u0443\u043a\u0432\u0443 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u043e\u0433\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430"),username:H.b().required("\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}),s=Object(V.e)({initialValues:{username:"",email:"",password:""},validationSchema:c,onSubmit:function(e){n(e,"https://conduit.productionready.io/api/users")}}),l=s.values,i=s.errors,o=s.touched,u=s.handleChange,m=s.handleSubmit,d=s.handleBlur;return r.a.createElement("div",{className:"container padding-top"},r.a.createElement("div",{className:"nav-links margin-bottom"},r.a.createElement(p.b,{className:"nav-link",to:"/"},"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"," >"),r.a.createElement(p.b,{className:"nav-link",to:"/signup"}," ","\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement("form",{onSubmit:m},r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a,{name:"email",placeholder:"E-mail",label:"E-mail",type:"email",value:l.email,onChange:u,onBlur:d}),t&&r.a.createElement("div",{className:"red"},t.email),i.email&&o.email&&r.a.createElement("div",{className:"red"},i.email)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a.Password,{name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",label:"Password",type:"password",value:l.password,onChange:u,onBlur:d}),t&&r.a.createElement("div",{className:"red"},t.password),i.password&&o.password&&r.a.createElement("div",{className:"red"},i.password)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a,{placeholder:"\u0418\u043c\u044f \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",name:"username",label:"Nickname",value:l.username,onChange:u,onBlur:d}),t&&r.a.createElement("div",{className:"red"},t.username),i.username&&o.username&&r.a.createElement("div",{className:"red"},i.username)),r.a.createElement(Q.a,{className:"margin-right",type:"primary",htmlType:"submit"},"Register"),"requested"===a&&r.a.createElement(v.a,{className:"left-margin"}),r.a.createElement(p.b,{to:"/login"},"\u0412\u043e\u0439\u0442\u0438")))})),$={getTargetArticle:function(e){return function(){var t=Object(_.a)(T.a.mark((function t(a){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"REQUEST_SEND"}),t.prev=1,t.next=4,A.a.get("https://conduit.productionready.io/api".concat(e));case 4:n=t.sent,a({type:"SET_ARTICLE",payload:{article:n.data.article}}),a({type:"REQUEST_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"REQUEST_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(_.a)(T.a.mark((function t(a){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"POST_CHANGE_REQUESTED"});try{n={method:"Delete",url:"https://conduit.productionready.io/api/articles/".concat(e)},A()(n).then((function(e){return 200===e.status?a({type:"POST_CHANGE_SUCCESS"}):a({type:"POST_CHANGE_FAILURE"})}))}catch(r){a({type:"POST_CHANGE_FAILURE"})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFavorite:P,fatchFavorite:I,setPostChangeStatusToNone:w},K=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props,t=e.getTargetArticle,a=e.slug;t("/articles/".concat(a))},n.id=0,n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.article,n=t.changePostStatus,c=t.setPostChangeStatusToNone,s=t.slug,l=t.deletePost,i=t.unFavorite,o=t.fatchFavorite,u=t.user;return"success"===n?r.a.createElement("div",{className:"container post-card padding-top"},r.a.createElement("p",{className:"margin-right"},"\u041f\u043e\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u043e\u043b\u0435\u043d"),r.a.createElement("br",null),r.a.createElement(p.b,{onClick:function(){return c()},to:"/"},"ok")):a?r.a.createElement("main",{className:"padding-top"},r.a.createElement("div",{className:"nav-links container margin-bottom"},r.a.createElement(p.b,{className:"nav-link",to:"/"},"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"," >"),r.a.createElement(p.b,{className:"nav-link",to:"/articles/".concat(a.slug)}," ","\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u043e\u0441\u0442\u0430")),r.a.createElement("div",{className:"post-card container"},r.a.createElement("img",{className:"avatar",alt:"AVATAR",src:a.author.image}),r.a.createElement("div",{className:"card__content"},r.a.createElement("h1",{className:"title"},a.title),r.a.createElement("div",{className:"meta"},r.a.createElement("span",{className:"date"},Object(y.a)(new Date(a.createdAt),Date.now(),{addSuffix:!0})),r.a.createElement("span",{className:"author"},a.author.username)),r.a.createElement("p",null,a.body),r.a.createElement("div",{className:"links"},a.tagList.length?a.tagList.map((function(t){return e.id+=1,r.a.createElement(h.a,{key:e.id,color:"orangered"},t)})):null,r.a.createElement("span",{className:"favorites-count"},a.favoritesCount),a.favorited?r.a.createElement("span",{className:"heart-container"},r.a.createElement(S.a,{style:{color:"red"},onClick:function(){return i(a.slug)},className:"like"}),r.a.createElement(D,null)):r.a.createElement("span",{className:"heart-container"},r.a.createElement(S.a,{onClick:function(){return o(a.slug)},className:"like"}),r.a.createElement(D,null))),a.author.username===u.username&&r.a.createElement("div",{className:"remove"},r.a.createElement(Q.a,{className:"margin-right",disabled:"sended"===n,onClick:function(){return l(s)},type:"primary",danger:!0},"\u0423\u0434\u043e\u043b\u0438\u0442\u044c"),"sended"===n&&r.a.createElement(v.a,{className:"margin-right"}),r.a.createElement(Q.a,{disabled:"sended"===n,type:"primary"},r.a.createElement(p.b,{to:"/articles/".concat(s,"/edit")},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))))):r.a.createElement("div",{className:"padding-top max-width margin-bottom"},r.a.createElement(v.a,{className:"center"}))}}]),a}(r.a.Component);K.defaultProps={article:null,user:null};var Y=Object(l.b)((function(e){return{article:e.article,slug:e.slug,changePostStatus:e.changePostStatus,requestStatus:e.requestStatus,user:e.user}}),$)(K),Z=a(323),ee={setAuth:U},te=function(e){var t=e.setAuth,a=e.isAuth,n=e.user;return r.a.createElement("header",null,r.a.createElement("div",{className:"header__wrapper container"},r.a.createElement(p.b,{to:"/"},r.a.createElement("h1",{className:"logo"},"Blog")),r.a.createElement("div",{className:"user"},a&&r.a.createElement(p.b,{className:"user-btn margin-right",to:"/add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"),r.a.createElement("div",{className:"user-name"},r.a.createElement(Z.a,{icon:r.a.createElement(B.a,null)}),a?r.a.createElement("span",{className:"user-nick"},n.username):r.a.createElement("span",{className:"user-nick"},"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b")),a?r.a.createElement(p.b,{onClick:function(){t(a),localStorage.clear()},className:"user-btn",to:"/"},"\u0412\u044b\u0439\u0442\u0438"):r.a.createElement(p.b,{className:"user-btn",to:"/login"},"\u0412\u043e\u0439\u0442\u0438"))))};te.defaultProps={user:null};var ae=Object(l.b)((function(e){return{isAuth:e.isAuth,user:e.user}}),ee)(te),ne=a(331),re=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Desined by Istamal Dagalaev"),r.a.createElement(ne.a,{className:"m-right-gap"}),r.a.createElement("a",{href:"mailto:dagalaev@gmail.com"},"dagalaev@gmail.com"))},ce={addPost:function(e){return function(){var t=Object(_.a)(T.a.mark((function t(a){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"POST_CHANGE_REQUESTED"});try{n={method:"Post",data:{article:e},url:"https://conduit.productionready.io/api/articles"},A()(n).then((function(e){return 200===e.status?a({type:"POST_CHANGE_SUCCESS"}):a({type:"POST_CHANGE_FAILURE"})}))}catch(r){a({type:"POST_CHANGE_FAILURE"})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setPostChangeStatusToNone:w},se=Object(l.b)((function(e){return{changePostStatus:e.changePostStatus}}),ce)((function(e){var t=e.changePostStatus,a=e.setPostChangeStatusToNone,n=e.addPost,c=H.a().shape({title:H.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").min(3,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),description:H.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").min(10,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),body:H.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").min(20,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")});return"success"===t?r.a.createElement("main",{className:"container post-card padding-top"},r.a.createElement("p",{className:"margin-right"},"\u041f\u043e\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),r.a.createElement("br",null),r.a.createElement(p.b,{onClick:function(){return a()},to:"/"},"ok")):r.a.createElement("div",{className:"container padding-top"},r.a.createElement("div",{className:"nav-links margin-bottom"},r.a.createElement(p.b,{className:"nav-link",to:"/"},"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"," >"),r.a.createElement(p.b,{className:"nav-link",to:"/add"}," ","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e")),r.a.createElement(V.d,{initialValues:{title:"",description:"",body:"",tagList:[]},validationSchema:c,onSubmit:function(e){n(e)},render:function(e){var a=e.values,n=e.handleChange,c=e.errors,s=e.handleBlur,l=e.touched;return r.a.createElement(V.c,null,r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a,{placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"title",value:a.title,onChange:n,onBlur:s}),c.title&&l.title&&r.a.createElement("div",{className:"red s-size"},c.title)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a,{placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",value:a.description,onChange:n,onBlur:s}),c.description&&l.description&&r.a.createElement("div",{className:"red s-size"},c.description)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a.TextArea,{placeholder:"\u0422\u0435\u043a\u0441\u0442",name:"body",value:a.body,onChange:n,onBlur:s}),c.body&&l.body&&r.a.createElement("div",{className:"red s-size"},c.body)),r.a.createElement(V.b,{placeholder:"\u041c\u0435\u0442\u043a\u0438",name:"tagList",render:function(e){return r.a.createElement("div",null,a.tagList&&a.tagList.length>0?a.tagList.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(V.a,{className:"input margin-bottom m-right-gap",name:"tagList.".concat(a)}),r.a.createElement(Q.a,{type:"button",className:"m-right-gap",danger:!0,onClick:function(){return e.remove(a)}},"-"),r.a.createElement(Q.a,{type:"button",onClick:function(){return e.insert(a,"")}},"+"))})):r.a.createElement(Q.a,{className:"margin-bottom",type:"primary",onClick:function(){return e.push("")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433"),r.a.createElement("div",null,r.a.createElement(Q.a,{className:"margin-right",disabled:"sended"===t,type:"primary",htmlType:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),"sended"===t&&r.a.createElement(v.a,{className:"margin-right"})))}}))}}))})),le=a(205),ie={editPost:function(e,t){return function(){var a=Object(_.a)(T.a.mark((function a(n){var r,c;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:!(r=e).tagList.length>0&&(r.tagList=[""]),n({type:"POST_CHANGE_REQUESTED"});try{c={method:"Put",data:{article:r},url:"https://conduit.productionready.io/api/articles/".concat(t)},A()(c).then((function(e){return 200===e.status?n({type:"POST_CHANGE_SUCCESS"}):n({type:"POST_CHANGE_FAILURE"})}))}catch(s){n({type:"POST_CHANGE_FAILURE"})}case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setPostChangeStatusToNone:w},oe=function(e){var t=H.a().shape({title:H.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").min(3,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),description:H.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").min(10,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),body:H.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435").min(20,"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),a=e.changePostStatus,n=e.setPostChangeStatusToNone,c=e.editPost,s=e.article,l=e.slug;return"success"===a?r.a.createElement("main",{className:"container post-card padding-top"},r.a.createElement("p",{className:"margin-right"},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b"),r.a.createElement("br",null),r.a.createElement(p.b,{onClick:function(){return n()},to:"/"},"ok")):r.a.createElement("div",{className:"container padding-top"},r.a.createElement("div",{className:"nav-links margin-bottom"},r.a.createElement(p.b,{className:"nav-link",to:"/"},"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"," >"),r.a.createElement(p.b,{className:"nav-link",to:"/articles/".concat(l,"/edit")}," ","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e")),r.a.createElement(V.d,{initialValues:{title:s.title,description:s.description,body:s.body,tagList:Object(le.a)(s.tagList)},validationSchema:t,onSubmit:function(e){c(e,l)},render:function(e){var t=e.values,n=e.handleChange,c=e.errors,s=e.handleBlur,l=e.touched;return r.a.createElement(V.c,null,r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a,{placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"title",value:t.title,onChange:n,onBlur:s}),c.title&&l.title&&r.a.createElement("div",{className:"red s-size"},c.title)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a,{placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",value:t.description,onChange:n,onBlur:s}),c.description&&l.description&&r.a.createElement("div",{className:"red s-size"},c.description)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(q.a.TextArea,{placeholder:"\u0422\u0435\u043a\u0441\u0442",name:"body",value:t.body,onChange:n,onBlur:s}),c.body&&l.body&&r.a.createElement("div",{className:"red s-size"},c.body)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(V.b,{placeholder:"\u041c\u0435\u0442\u043a\u0438",name:"tagList",render:function(e){return r.a.createElement("div",null,t.tagList&&t.tagList.length>0?t.tagList.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(V.a,{className:"input margin-bottom m-right-gap",name:"tagList[".concat(a,"]")}),r.a.createElement(Q.a,{type:"button",className:"m-right-gap",danger:!0,onClick:function(){return e.remove(a)}},"-"),r.a.createElement(Q.a,{type:"button",onClick:function(){return e.insert(a,"")}},"+"))})):r.a.createElement(Q.a,{className:"margin-bottom",type:"primary",onClick:function(){return e.push("")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0433"),r.a.createElement("div",null,r.a.createElement(Q.a,{className:"margin-right",disabled:"sended"===a,type:"primary",htmlType:"submit"},"\u0421\u043e\u0447\u0440\u0430\u043d\u0438\u0442\u044c"),"sended"===a&&r.a.createElement(v.a,{className:"margin-right"})))}})))}}))};oe.defaultProps={article:null};var ue=Object(l.b)((function(e){return{changePostStatus:e.changePostStatus,article:e.article,slug:e.slug}}),ie)(oe),me={authenticateWithToken:function(){return function(){var e=Object(_.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_SEND"}),e.prev=1,e.next=4,A.a.get("https://conduit.productionready.io/api/user");case 4:a=e.sent,localStorage.setItem("token",a.data.user.token),t({type:"REQUEST_SUCCESS"}),t(L(a.data.user)),t(U(!1)),e.next=17;break;case 11:throw e.prev=11,e.t0=e.catch(1),localStorage.clear(),t(U(!0)),t({type:"REQUEST_FAILURE"}),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}},de=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t=e.props.authenticateWithToken;localStorage.getItem("token")&&t()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.slug,a=e.isAuth;return r.a.createElement("div",{className:"wrapper"},r.a.createElement(p.a,{basename:"/blog"},r.a.createElement(ae,null),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",component:x}),r.a.createElement(g.b,{exact:!0,path:"/articles/".concat(t),component:Y}),r.a.createElement(g.b,{path:"/signup",component:J}),r.a.createElement(g.b,{path:"/login",render:function(e){return a?r.a.createElement(g.a,{to:"/"}):r.a.createElement(W,null)}}),r.a.createElement(g.b,{path:"/add",render:function(){return a?r.a.createElement(se,null):r.a.createElement(g.a,{to:"/Login"})}}),r.a.createElement(g.b,{path:"/articles/".concat(t,"/edit"),component:ue})),r.a.createElement(re,null)))}}]),a}(r.a.Component);de.defaultProps={slug:null};var Ee=Object(l.b)((function(e){return{isAuth:e.isAuth,slug:e.slug}}),me)(de);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=a(207),ge=Object(i.c)({requestStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_SEND":return"requested";case"REQUEST_SUCCESS":return"success";case"REQUEST_FAILURE":return"failure";default:return e}},articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_ARTICLES"===t.type)return{articles:t.payload.data.articles,totalCount:t.payload.data.articlesCount};if("SET_FAVORITED"===t.type||"DELETE_FAVORITED"===t.type){var a=e.articles.map((function(e){return e.slug===t.payload.article.slug?t.payload.article:e}));return{articles:a,totalCount:e.totalCount}}return"SET_FILTERED_ARTICLES"===t.type?{articles:t.payload.data.articles,totalCount:t.payload.data.articlesCount}:e},article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_ARTICLE"===t.type?t.payload.article:"DELETE_ARTICLE"===t.type?null:"SET_FAVORITED"===t.type||"DELETE_FAVORITED"===t.type?t.payload.article:e},favoriteRequestsStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",t=arguments.length>1?arguments[1]:void 0;return"FAVORITE_REQUESTED"===t.type?"requested":"FAVORITE_SUCCESS"===t.type?"success":"FAVORITE_FAILURE"===t.type?"failure":e},errorMsg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if("ADD_ERROR_MESSAGE"===t.type){var a=t.payload.err,n=a.email,r=a.username,c=a.password;return{email:n,username:r,password:c,emailOrPassword:"Email or password is invalid"}}return e},isAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_AUTH"===t.type?!t.payload.auth:e},slug:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_SLUG"===t.type?t.payload.slug:e},changePostStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",t=arguments.length>1?arguments[1]:void 0;return"POST_CHANGE_REQUESTED"===t.type?"sended":"POST_CHANGE_SUCCESS"===t.type?"success":"POST_CHANGE_FAILURE"===t.type?"failure":"SET_POSTCHANGE_STATUS_TO_NONE"===t.type?"none":e},filteredBy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",t=arguments.length>1?arguments[1]:void 0;return"SET_FILTERED_ARTICLES"===t.type?t.payload.tag:"RESET_FILTER"===t.type?"none":e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"ADD_USERDATA"===t.type?Object(pe.a)({},t.payload.user):e}}),he=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),ve=Object(i.e)(ge,Object(i.d)(Object(i.a)(o.a),he));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:ve},r.a.createElement(Ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[209,1,2]]]);
//# sourceMappingURL=main.213e6303.chunk.js.map